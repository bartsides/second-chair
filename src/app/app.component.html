<div class="mode-selector">
  <mat-button-toggle-group name="mode-selector-toggle-group" [value]="mode">
    @for (m of modes; track m;) {
    <mat-button-toggle
      class="mode-button"
      [class.active-mode]="m === mode"
      (click)="changeMode(m)"
      [value]="m"
    >
      {{ m }}
    </mat-button-toggle>
    }
  </mat-button-toggle-group>
  <div class="dark-mode-container">
    @if (useDarkTheme) {
    <button matButton class="light-mode-button" (click)="setTheme(themes[1])">
      <img src="assets/light-mode.svg" />
    </button>
    } @else {
    <button matButton class="dark-mode-button" (click)="setTheme(themes[0])">
      <img src="assets/dark-mode.svg" />
    </button>
    }
  </div>
</div>

<div class="container">
  <h2>Selected Jurors {{ selected.length }}</h2>

  <div
    id="selected-jurors"
    class="juror-list"
    cdkDropList
    cdkDropListOrientation="horizontal"
    [cdkDropListData]="selected"
    [cdkDropListConnectedTo]="[
      'selected-jurors',
      'juror-pool',
      'not-selected-jurors'
    ]"
    (cdkDropListDropped)="drop($event)"
  >
    @for (juror of selected; track juror) {
    <app-jury-card
      cdkDrag
      [juror]="juror"
      (clicked)="jurorClicked($event)"
    ></app-jury-card>
    }
  </div>
</div>

@if (mode == 'Selection') {
<div class="container">
  <h2>Jurors Pool {{ pool.length }}</h2>

  <div
    id="juror-pool"
    class="juror-list"
    cdkDropList
    cdkDropListOrientation="horizontal"
    [cdkDropListData]="pool"
    [cdkDropListConnectedTo]="[
      'selected-jurors',
      'juror-pool',
      'not-selected-jurors'
    ]"
    (cdkDropListDropped)="drop($event)"
  >
    @for (juror of pool; track juror) {
    <app-jury-card
      cdkDrag
      [juror]="juror"
      (clicked)="jurorClicked($event)"
    ></app-jury-card>
    }
  </div>
</div>

<div class="container">
  <h2><mat-icon fontIcon="delete"></mat-icon></h2>

  <div
    id="not-selected-jurors"
    class="juror-list"
    cdkDropList
    cdkDropListOrientation="horizontal"
    [cdkDropListData]="notSelected"
    [cdkDropListConnectedTo]="[
      'selected-jurors',
      'juror-pool',
      'not-selected-jurors'
    ]"
    (cdkDropListDropped)="drop($event)"
  >
    @for (juror of notSelected; track juror) {
    <app-jury-card
      cdkDrag
      [juror]="juror"
      (clicked)="jurorClicked($event)"
    ></app-jury-card>
    }
  </div>
</div>
}
