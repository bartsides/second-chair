@if (loading){<app-loading></app-loading>}

<div class="messages-component-container border-primary">
  <div class="messages-container" [class]="messagingContainerName">
    <div class="messages">
      @for (message of messages; track messages) {
      <div class="message">
        <div class="message-author-line">
          <div
            class="author"
            [class.current-user-message]="isCurrentUser(message)"
          >
            {{ message.author }}
          </div>
          <div class="date">
            : {{ message.addedDate | date : "M/dd/yy h:mm a" }}
          </div>
        </div>
        <div class="message-content">
          {{ message.content }}
        </div>
      </div>
      }
    </div>
  </div>
  <!-- @if(isScrolledNearBottom()) {
  <button
    mat-flat-button
    class="scroll-down-button"
    color="primary"
    (click)="scrollToBottom()"
  >
    Scroll Down
  </button>
  } -->
  <form class="message-form">
    <mat-form-field>
      <input
        matInput
        name="messageContent"
        [(ngModel)]="messageContent"
        autocomplete="nope"
      />
    </mat-form-field>
    <button
      mat-flat-button
      (click)="send()"
      [disabled]="!messageContent"
      color="primary"
    >
      Send
    </button>
  </form>
</div>
